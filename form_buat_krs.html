<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Tambah KRS</title>
    <script>
        function validateForm() {
            const nama_mahasiswa = document.forms[krsForm]["nama_mahasiswa"].value;
            const nim = document.forms[krsForm]["nim"].value;
            const kelas = document.forms[krsForm]["kelas"].value;
            const mataKuliah = document.forms[krsForm]["mata_kuliah[]"];

            const namePattern = /^[a-zA-Z\s]+$/;
            if (!namePattern.test(nama_mahasiswa)) {
                alert("Nama hanya boleh berisi huruf.");
                return false;
            }

            const nimPattern = /^\d{10}$/;;
            if (!nimPattern.test(nim)) {
                alert("NIM hanya boleh berisi angka dan panjangnya harus 10 digit.");
                return false;
            }

            const validClasses = ['5A', '5B', '5C', '5D', '5E'];
            if (!validClasses.includes(kelas)) {
                alert("Kelas hanya diisi dengan satu pilihan(5A, 5B, 5C, 5D, 5E).");
                return false;
            }

            const selectedMataKuliah = Array.from(mataKuliah).filter(item => item.checked);
            if (selectedMataKuliah.length === 0) {
                alert("Pilih setidaknya satu atau lebih mata kuliah.");
                return false;
            }

            return true;
        }  
    </script>
</head>

<body>
    <h2>Form Tambah KRS</h2>
    <form name="krsForm" action="create_krs.php" method="post" onsubmit="return validateForm()">
        <label for="Nama">Nama Mahasiswa: </label><br>
        <input type="text" name="nama_mahasiswa" required><br><br>
        <label for="nim">Nomor Induk Mahasiswa: </label><br>
        <input type="text" name="nim" required><br><br>
        <label for="kelas">Kelas: </label><br>
        <input type="radio" name="kelas" value="5A">Kelas 5A<br>
        <input type="radio" name="kelas" value="5B">Kelas 5B<br>
        <input type="radio" name="kelas" value="5C">Kelas 5C<br>
        <input type="radio" name="kelas" value="5D">Kelas 5D<br>
        <input type="radio" name="kelas" value="5E">Kelas 5E<br>
        <label for="makul">Mata Kuliah Pilihan: </label><br>
        <input type="checkbox" name="makul[]" value="WebApp">Web Application Development<br>
        <input type="checkbox" name="makul[]" value="MobileApp">Mobile Application Development<br>
        <input type="checkbox" name="makul[]" value="UI/UX">UI/UX Design<br>
        <input type="checkbox" name="makul[]" value="SoftEng">Software Engineering<br>
        <input type="checkbox" name="makul[]" value="DataEng">Data Engineering<br><br>
        <input type="submit" value="Simpan KRS">
    </form>
</body>

</html>